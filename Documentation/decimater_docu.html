<html>
    <head>
      <title>OpenMesh: Mesh Decimation Framework</title>
      <link href="acg_style.css" rel="stylesheet" text="text/css">
      <link href="acg_tabs.css" rel="stylesheet" type="text/css">
    </head>
    <body bgcolor="#003010">
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="main.html">OpenMesh Documentation</a>      </li>
      <li><a class="el" href="tools_docu.html">OpenMesh Tools Documentation</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Mesh Decimation Framework </h1>  </div>
</div>
<div class="contents">
<p>The mesh decimation framework has 3 building blocks.</p>
<ol type="1">
<li><a class="el" href="decimater_docu.html#DecimaterAlg">The decimation algorithm</a></li>
<li><a class="el" href="decimater_docu.html#DecimaterMod">Decimating Modules</a></li>
<li><a class="el" href="decimater_docu.html#DecimaterHnd">Module Handles</a></li>
</ol>
<h2><a class="anchor" id="DecimaterAlg"></a>
The decimation algorithm</h2>
<p>The decimater (<a class="el" href="classOpenMesh_1_1Decimater_1_1DecimaterT.html" title="Decimater framework.">OpenMesh::Decimater::DecimaterT</a>) provides the decimation algorithm, while the decimation modules provide the computational part. The modules compute a priority value due to some error metric, which is used by the decimater to feed a priority queue. The lower the error value, the more a potential collapse moves to the front of the queue. The one with the lowest error will always be the candidate for the next collapse.</p>
<p>This implementation does a halfedge collapse, hence simply collapsing one vertex into another connected by a halfedge.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The decimater ignores all 'locked' and 'deleted' vertices (see <a class="el" href="namespaceOpenMesh_1_1Attributes.html#af600bbf2c3f55c90a2a64848f0547617" title="Status bits used by the Status class.">OpenMesh::Attributes::StatusBits</a>)</dd></dl>
<dl class="attention"><dt><b>Attention:</b></dt><dd>The decimater sets temporarily the status bit 'tagged' and clears it after usage regardless of a previous state.</dd></dl>
<h2><a class="anchor" id="DecimaterMod"></a>
Decimating Modules</h2>
<p>The vertex to be removed is determined by a decimation module, which has to be derived from <a class="el" href="classOpenMesh_1_1Decimater_1_1ModBaseT.html" title="Base class for all decimation modules.">OpenMesh::Decimater::ModBaseT</a>. The framework supplies already a few decimation modules. But it's very easy to build your own (<a class="el" href="classOpenMesh_1_1Decimater_1_1ModBaseT.html">OpenMesh::Decimater::ModBaseT</a>). The most important function of a decimation module is OpenMesh::Decimater::ModBaseT::collapse_priority(). It takes an <a class="el" href="structOpenMesh_1_1Decimater_1_1CollapseInfoT.html" title="Stores information about a halfedge collapse.">OpenMesh::Decimater::CollapseInfoT</a> describing a potential halfedge collapse, and returns a value due to some error metric. The error value is used by the decimater to feed a priority queue. Collapses with low error will be executed first, and those with large error later. Of course a module computing the error quadric is provided (<a class="el" href="classOpenMesh_1_1Decimater_1_1ModQuadricT.html" title="Mesh decimation module computing collapse priority based on error quadrics.">OpenMesh::Decimater::ModQuadricT</a>).</p>
<p>This framework allows to use more than one decimation module with some restrictions. Since the error value is always normalized and sometimes very difficult to compare to other metrics, the framework allows only one non-binary module, i.e. a module computing a float value. Every further module must be a binary module, i.e. collapse_prioerity() returns OpenMesh::Decimater::ModBaseT::LEGAL_COLLAPSE or OpenMesh::Decimater::ModBaseT::ILLEGAL_COLLAPSE. In the algorithm the binary modules are evaluated first. If the evaluated collapse passes the test, then the non-binary module contributes to the decision step.</p>
<p>In some cases the module does not contribute anything to the decision engine of the decimater, but instead, e.g. simply collects information, while the decimater does it's work. For instance the module <a class="el" href="classOpenMesh_1_1Decimater_1_1ModProgMeshT.html" title="Collect progressive mesh information while decimating.">OpenMesh::Decimater::ModProgMeshT</a> collects information from all collapses that have been done. This information can be used to generate progressive meshes as described in "Progressive meshes", Hoppe, 1996.</p>
<p>Provided decimation modules:</p>
<ul>
<li><a class="el" href="classOpenMesh_1_1Decimater_1_1ModQuadricT.html" title="Mesh decimation module computing collapse priority based on error quadrics.">OpenMesh::Decimater::ModQuadricT</a></li>
<li><a class="el" href="classOpenMesh_1_1Decimater_1_1ModRoundnessT.html" title="Compute error value based on roundness criteria.">OpenMesh::Decimater::ModRoundnessT</a></li>
<li><a class="el" href="classOpenMesh_1_1Decimater_1_1ModNormalFlippingT.html" title="Decimating module to avoid flipping of faces.">OpenMesh::Decimater::ModNormalFlippingT</a></li>
<li><a class="el" href="classOpenMesh_1_1Decimater_1_1ModIndependentSetsT.html" title="Lock one-ring around remaining vertex after a collapse to prevent further collapses of halfedges inci...">OpenMesh::Decimater::ModIndependentSetsT</a></li>
<li><a class="el" href="classOpenMesh_1_1Decimater_1_1ModProgMeshT.html" title="Collect progressive mesh information while decimating.">OpenMesh::Decimater::ModProgMeshT</a></li>
</ul>
<h2><a class="anchor" id="DecimaterHnd"></a>
Module Handles</h2>
<p>Similar to properties the modules are represented outside the decimater by module handles. Before using the decimater a non-binary module must be registrated with the decimater.</p>
<p>See <a class="el" href="decimater_docu.html#DecimaterExa">Basic Setup</a>.</p>
<h2><a class="anchor" id="DecimaterExa"></a>
Basic Setup</h2>
<p>The following small example show the basic steps to setup up a decimater:</p>
<div class="fragment"><pre class="fragment"><span class="comment">// </span>
<span class="keyword">using namespace </span>OpenMesh

<span class="comment">// ---------------------------------------- necessary types</span>

<span class="comment">// Mesh type</span>
<span class="keyword">typedef</span> TriMesh_ArrayKernelT&lt;&gt;                      Mesh;

<span class="comment">// Decimater type</span>
<span class="keyword">typedef</span> Decimater::DecimaterT&lt; Mesh &gt;               Decimater;

<span class="comment">// Decimation Module Handle type</span>
<span class="keyword">typedef</span> Decimater::ModQuadricT&lt; decimater &gt;::Handle HModQuadric;

<span class="comment">// ---------------------------------------- decimater setup</span>

Mesh        mesh;             <span class="comment">// a mesh object</span>
Decimater   decimater(mesh);  <span class="comment">// a decimater object, connected to a mesh</span>
HModQuadric hModQuadric;      <span class="comment">// use a quadric module</span>

decimater.add( hModQuadric ); <span class="comment">// register module at the decimater</span>

std::cout &lt;&lt; decimater.module( hModQuadric ).name() &lt;&lt; std::endl;
                              <span class="comment">// the way to access the module </span>

decimater.initialize();       <span class="comment">// let the decimater initialize the mesh and the</span>
                              <span class="comment">// modules</span>

decimater.decimate();         <span class="comment">// do decimation</span>

</pre></div> </div>
<hr>
<address>
<small>
<a href="http://www.rwth-graphics.de" style="text-decoration:none;">
<img src="acg_icon.gif" alt="acg pic" align="middle" border=0>
</a>
Project <b>OpenMesh</b>, 
&copy;&nbsp; Computer Graphics Group, RWTH Aachen.
Documentation generated using 
<a class="el" href="http://www.doxygen.org/index.html">
<b>doxygen</b>
</a>.
</small>
</address>
</body>
</html>
